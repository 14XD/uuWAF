## [4.1.0](https://github.com/Safe3/uuWAF/compare/v4.1.0...v4.0.1) (2024-04-16)


### 功能更新

* 插件功能新增SSL处理阶段，并将原各阶段函数细分为pre、post前后两个小阶段
* 新增日志刷新按钮
* 优化固件升级判断逻辑



## [4.0.1](https://github.com/Safe3/uuWAF/compare/v4.0.1...v3.3.3) (2024-04-10)


### 功能更新

* 新增免费SSL证书自动申请和续期功能
* 优化登录过期提示
* 优化并发数据库查询

### 问题修复

* 修复开启缓存后Range头不能传到后端引起的视频播放不能快进的问题
* 修复规则管理中返回HTTP头、返回页面阶段自定义普通规则不生效的问题



## [3.3.3](https://github.com/Safe3/uuWAF/compare/v3.3.3...v3.0.1) (2024-03-27)


### 功能更新

* 新增一键升级功能，便于固件版本升级
* 新增检测循环代理，避免127.0.0.1等死循环
* 新增默认开启gzip压缩功能
* 升级ip地理位置库，位置更加精准
* 新增waf.ip2loc函数用于将ip转换为地理位置，便于按地理位置封锁ip
* 自定义拦截页面限定为html类型

### 问题修复

* 修复机器人检测规则默认频率过小的问题
* 修复管理后台打开侧边栏固定后，页面不能显示的问题



## [3.0.1](https://github.com/Safe3/uuWAF/compare/v3.0.1...v2.8.0) (2024-01-27)


### 功能更新

* 语义引擎升级至2.0，增强检测能力并支持相关api设置检测严格等级
* 升级过滤引擎，支持对不常见或异常的content-type自定义是否拦截
* 新增从自定义请求头中获取访客真实ip，方便多层代理时获取客户端ip
* 大幅优化多项南墙安全过滤规则，减少误报和提升检出率

### 问题修复

* 修复南墙管理后台在数据渲染失败时图表弹出的getContext错误提示



## [2.8.0](https://github.com/Safe3/uuWAF/compare/v2.8.0...v2.7.0) (2024-01-11)


### 新增功能

* 升级南墙滑动旋转验证码功能，解决被CDN缓存或IP变动引起的不能显示或验证失败问题
* 主机版支持openEuler华为欧拉系统和国内几大云操作系统安装
* 优化默认数据库连接数，避免日志写入频繁时导致的数据库连接数不够用问题

### Bug 修复

* 解决南墙主机版某些系统数据库安装失败的问题



## [2.7.0](https://github.com/Safe3/uuWAF/compare/v2.7.0...v2.6.1) (2024-01-05)


### 新增功能

* 高级规则采用沙箱保护，阻止执行恶意规则
* 新增多个api变量和函数
* 升级多条高级规则
* 升级多个组件版本，如：nginx版本v1.24、OpenSSL版本v1.1.1w


### Bug 修复

* 修复南墙api函数waf.pmMatch匹配失效的问题
* 修复不同时区日期显示问题



## [2.6.1](https://github.com/Safe3/uuWAF/compare/v2.6.1...v2.6.0) (2023-09-04)


### 新增功能

* 支持*域名代表所有域名，简化所有网站位于相同服务器的配置
* 优化南墙语义检测引擎检测逻辑
* 优化南墙安装和Docker管理脚本，对异常进行处理



## [2.6.0](https://github.com/Safe3/uuWAF/compare/v2.6.0...v2.5.1) (2023-08-26)


### 新增功能

* 南墙安全验证X-Waf-Token 支持js读取
* 增强南墙语义检测引擎
* Docker版支持一键更新升级


### Bug 修复

* 修复南墙语义检测引擎在某些情况下core dump的问题

  

## [2.5.1](https://github.com/Safe3/uuWAF/compare/v2.5.1...v2.4.1) (2023-07-04)


### 新增功能

* 新增查看攻击日志请求报文功能
* 优化tls传输兼容性，支持TLS v1
* 优化sql注入和命令执行语义引擎
* 优化系统备份功能



## [2.4.1](https://github.com/Safe3/uuWAF/compare/v2.4.1...v2.3.0) (2023-05-30)


### 新增功能

* 新增系统配置备份功能
* 新增一键解封被封禁的ip功能
* 新增南墙安全验证X-Waf-Token head头验证功能


### Bug 修复

* 修复使用waf.block函数后产生系统报错日志的问题
* 解决部分XSS检测误报的问题
* 解决Docker版南墙在某些系统出现Unix syslog delivery error错误不能运行的问题

  


## [2.3.0](https://github.com/Safe3/uuWAF/compare/v2.3.0...v2.2.0) (2023-04-28)


### 新增功能

* 新增CDN缓存加速功能，支持业内首创的高灵活度正则匹配任意条件实时缓存清理功能。




## [2.2.0](https://github.com/Safe3/uuWAF/compare/v2.2.0...v2.1.5) (2023-03-22)


### 新增功能

* 新增滑动旋转验证码功能，可用于各种拦截机器人攻击，如网络爬虫、业务风控、cc拒绝服务攻击等
* 新增安全日志、审计日志报表功能，可将日志导出为Excel报表
* 新增并优化多个安全规则，包括机器人攻击防御、http重定向https等
* 优化WAF配置，减少内存占用
* 优化WAF管理后台界面功能展示


### Bug 修复

* 修复某些网站返回http头过大导致的502、504问题
* 修复某些网站非utf-8编码且未设置Content-Type头导致网页乱码的问题




## [2.1.5](https://github.com/Safe3/uuWAF/compare/v2.1.5...v2.1.2) (2022-12-31)


### Bug 修复

* 修复某些情况下弱口令匹配不生效的问题
* 使用安装包进行安装时，对不支持的操作系统进行提示，如ubuntu或debian


### 新增变更

* 支持text/plain类型的POST请求和返回内容的安全过滤处理
* 支持UTF-8编码正则匹配
* 提升WAF性能，默认不再过滤base64内容，可以单独定义规则来支持





## [2.1.2](https://github.com/Safe3/uuWAF/compare/v2.1.2...v1.9.3) (2022-11-11)


### Bug 修复

* 修复日志管理功能Url过长时，日志显示不全的问题
* 修复在selinux开启时，WAF服务进程不能正常启动的问题


### 新增变更

* 增强默认安装初始化数据库密码、JWT密钥安全性，随机化生成
* 升级OpenSSL组件到最新1.1.1s版





## [1.9.3](https://github.com/Safe3/uuWAF/compare/v1.9.3...v1.9.0) (2022-10-10)


### Bug 修复

* 修复删除日志时，时间格式识别错误的问题
* 修复没有安全日志时，首页显示提示错误的问题


### 新增功能

* 支持更多RedHat系操作系统，如CentOS、AlmaLinux、Anolis、Rocky Linux等
* 增强安装稳定性和性能，数据库升级到8.x版本




## [1.9.0](https://github.com/Safe3/uuWAF/compare/v1.9.0...v1.8.1) (2022-09-22)


### Bug 修复

* 无


### 新增功能

* 支持WAF扩展插件